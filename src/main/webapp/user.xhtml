<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                template="/WEB-INF/templates/template.xhtml"
                xmlns:p="http://primefaces.org/ui" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                xsi:schemaLocation="http://java.sun.com/jsf/html ">

    <ui:define name="content">
        <p:messages id="messages" showDetail="true" autoUpdate="true" closable="true"/>
        <h:form id="form">
            <p:panel id="menu">
                <h:commandButton action="#{pageController.moveToActivity}" value="Activity"/>
                <h:commandButton action="#{pageController.moveToCurrency}" value="Currency"/>
                <h:commandButton action="#{pageController.moveToUser}" value="Users"/>
            </p:panel>

            <p:outputLabel value="Login:"/>
            <p:inputText value="#{userBackingBean.login}"/>

            <p:outputLabel value="Name:"/>
            <p:inputText value="#{userBackingBean.firstname}"/>

            <p:outputLabel value="Lastname:"/>
            <p:inputText value="#{userBackingBean.lastname}"/>

            <p:commandButton id="saveUser" value="Save user"
                             update="userTable"
                             actionListener="#{userController.addUser}"></p:commandButton>
        </h:form>

        <p:panel styleClass="activityDataTableStyleClass">
            <p:dataTable id="userTable" var="usr" rowKey="#{usr.id}"
                         value="#{userBackingBean.userTableModel}"
                         selectionMode="single" selection="#{userBackingBean.selectedUser}"
                         paginator="true" rows="10">

                <p:column sortBy="#{usr.login}" headerText="login">
                    <h:outputText value="#{usr.login}"/>
                </p:column>

                <p:column sortBy="#{usr.firstname}" headerText="firstname">
                    <h:outputText value="#{usr.firstname}"/>
                </p:column>

                <p:column sortBy="#{usr.lastname}" headerText="lastname">
                    <h:outputText value="#{usr.lastname}"/>
                </p:column>

                <p:column style="width:6%" exportable="false">
                </p:column>
            </p:dataTable>
        </p:panel>
    </ui:define>

</ui:composition>